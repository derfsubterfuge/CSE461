package edu.uw.cs.cse461.util;

import java.io.IOException;
import java.net.Socket;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

public interface TCPMessageHandlerInterface {

	/**
	 * Closes the underlying socket and associated streams.  The TCPMessageHandler object is 
	 * unusable after execution of this method.
	 */
	public void discard();
	
	//--------------------------------------------------------------------------------------
	// send routines
	//--------------------------------------------------------------------------------------
	
	public void sendMessage(byte[] buf) throws IOException;
	public void sendMessage(String str) throws IOException;
	public void sendMesssage(JSONArray jsArray) throws IOException;
	public void sendMessage(JSONObject jsObject) throws IOException;
	
	//--------------------------------------------------------------------------------------
	// read routines
	//--------------------------------------------------------------------------------------
	
	public byte[] readMessageAsBytes() throws IOException;
	public String readMessageAsString() throws IOException;
	public JSONArray readMessageAsJSONArray() throws IOException, JSONException;
	public JSONObject readMessageAsJSONObject() throws IOException, JSONException;
}
