package edu.uw.cs.cse461.sp12.OSConsoleApps.DDNS;

import edu.uw.cs.cse461.sp12.OS.DDNSResolverService;
import edu.uw.cs.cse461.sp12.OS.DDNSService;
import edu.uw.cs.cse461.sp12.OS.NameManager;
import edu.uw.cs.cse461.sp12.OS.OS;
import edu.uw.cs.cse461.sp12.OS.OSConsoleApp;

/**
 * An application that prints the contents of the naming database used by the DDNS system. 
 * @author zahorjan
 *
 */
public class DumpDB implements OSConsoleApp {

	public DumpDB() {
	}
	
	public String appname() {
		return "dumpdb";
	}
	
	public void run() {
		System.out.println("DDNS Service:");
		DDNSService ddns = (DDNSService)OS.getService("ddns");
		if ( ddns != null ) System.out.println(ddns);
		else System.out.println("Not loaded");
		
		System.out.println("DDNS Resolver:");
		DDNSResolverService resolver = (DDNSResolverService)OS.getService("ddnsresolver");
		if ( resolver != null ) System.out.println(resolver);
		else System.out.println("Not loaded");
	}
	
	public void shutdown() {
	}

}
