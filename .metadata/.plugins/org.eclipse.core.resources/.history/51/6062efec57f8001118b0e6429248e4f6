package edu.uw.cs.cse461.OSConsoleApps;

import edu.uw.cs.cse461.NetBase.NetBase;
import edu.uw.cs.cse461.NetBase.NetLoadableInterface.NetLoadableApp;
import edu.uw.cs.cse461.OS.DDNS.DDNSResolverService;
import edu.uw.cs.cse461.OS.DDNS.DDNSService;

/**
 * An application that prints the contents of the naming database used by the DDNS system. 
 * @author zahorjan
 *
 */
public class DumpDB implements NetLoadableApp {

	public DumpDB() {
	}
	
	public String loadablename() {
		return "dumpdb";
	}
	
	public void run() {
		System.out.println("DDNS Service:");
		DDNSService ddns = (DDNSService)NetBase.theNetBase().getService("ddns");
		if ( ddns != null ) System.out.println(ddns);
		else System.out.println("Not loaded");
		
		System.out.println("DDNS Resolver:");
		DDNSResolverService resolver = (DDNSResolverService)NetBase.theNetBase().getService("ddnsresolver");
		if ( resolver != null ) System.out.println(resolver);
		else System.out.println("Not loaded");
	}
	
	public void shutdown() {
	}

}
